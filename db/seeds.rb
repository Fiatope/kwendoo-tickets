# Disable sidekiq
require 'sidekiq/testing'
Sidekiq::Testing.fake!

puts 'Creating State entries...'

State.delete_all
country_code = {
  "VA"=>"Holy See (Vatican City State)",
  "CC"=>"Cocos (Keeling) Islands",
  "GT"=>"Guatemala", "JP"=>"Japan",
  "SE"=>"Sweden",
  "TZ"=>"Tanzania, United Republic of",
  "CD"=>"Congo, the Democratic Republic of the",
  "GU"=>"Guam", "MM"=>"Myanmar",
  "DZ"=>"Algeria", "MN"=>"Mongolia",
  "PK"=>"Pakistan", "SG"=>"Singapore",
  "VC"=>"Saint Vincent and the Grenadines",
  "CF"=>"Central African Republic",
  "GW"=>"Guinea-Bissau",
  "MO"=>"Macao",
  "PL"=>"Poland",
  "SH"=>"Saint Helena",
  "CG"=>"Congo",
  "MP"=>"Northern Mariana Islands",
  "PM"=>"Saint Pierre and Miquelon",
  "SI"=>"Slovenia",
  "VE"=>"Venezuela",
  "ZW"=>"Zimbabwe",
  "CH"=>"Switzerland",
  "GY"=>"Guyana",
  "MQ"=>"Martinique",
  "PN"=>"Pitcairn",
  "SJ"=>"Svalbard and Jan Mayen",
  "CI"=>"Cote d'Ivoire",
  "MR"=>"Mauritania",
  "SK"=>"Slovakia",
  "VG"=>"Virgin Islands, British",
  "MS"=>"Montserrat",
  "SL"=>"Sierra Leone",
  "CK"=>"Cook Islands",
  "ID"=>"Indonesia",
  "MT"=>"Malta",
  "SM"=>"San Marino",
  "VI"=>"Virgin Islands, U.S.",
  "YE"=>"Yemen",
  "CL"=>"Chile",
  "IE"=>"Ireland",
  "LA"=>"Lao People's Democratic Republic",
  "MU"=>"Mauritius",
  "SN"=>"Senegal",
  "CM"=>"Cameroon",
  "FI"=>"Finland",
  "LB"=>"Lebanon",
  "MV"=>"Maldives",
  "PR"=>"Puerto Rico",
  "SO"=>"Somalia",
  "CN"=>"China",
  "FJ"=>"Fiji",
  "LC"=>"Saint Lucia",
  "MW"=>"Malawi",
  "PS"=>"Palestinian Territory, Occupied",
  "CO"=>"Colombia",
  "FK"=>"Falkland Islands (Malvinas)",
  "MX"=>"Mexico",
  "PT"=>"Portugal",
  "MY"=>"Malaysia",
  "SR"=>"Suriname",
  "VN"=>"Viet Nam",
  "FM"=>"Micronesia, Federated States of",
  "MZ"=>"Mozambique",
  "CR"=>"Costa Rica",
  "PW"=>"Palau",
  "FO"=>"Faroe Islands",
  "ST"=>"Sao Tome and Principe",
  "IL"=>"Israel",
  "LI"=>"Liechtenstein",
  "PY"=>"Paraguay",
  "BA"=>"Bosnia and Herzegovina",
  "CU"=>"Cuba",
  "IM"=>"Isle of Man",
  "SV"=>"El Salvador",
  "CV"=>"Cape Verde",
  "FR"=>"France",
  "IN"=>"India",
  "LK"=>"Sri Lanka",
  "BB"=>"Barbados",
  "IO"=>"British Indian Ocean Territory",
  "VU"=>"Vanuatu",
  "CX"=>"Christmas Island",
  "RE"=>"Reunion",
  "UA"=>"Ukraine",
  "SY"=>"Syrian Arab Republic",
  "CY"=>"Cyprus",
  "IQ"=>"Iraq",
  "SZ"=>"Swaziland",
  "BD"=>"Bangladesh",
  "CZ"=>"Czech Republic",
  "IR"=>"Iran, Islamic Republic of",
  "YT"=>"Mayotte",
  "BE"=>"Belgium",
  "IS"=>"Iceland",
  "BF"=>"Burkina Faso",
  "EC"=>"Ecuador",
  "IT"=>"Italy",
  "OM"=>"Oman",
  "BG"=>"Bulgaria",
  "BH"=>"Bahrain",
  "LR"=>"Liberia",
  "UG"=>"Uganda",
  "BI"=>"Burundi",
  "EE"=>"Estonia",
  "LS"=>"Lesotho",
  "BJ"=>"Benin",
  "LT"=>"Lithuania",
  "EG"=>"Egypt",
  "BL"=>"Saint BarthÃ©lemy",
  "EH"=>"Western Sahara",
  "LU"=>"Luxembourg",
  "RO"=>"Romania",
  "BM"=>"Bermuda",
  "LV"=>"Latvia",
  "BN"=>"Brunei Darussalam",
  "UM"=>"United States Minor Outlying Islands",
  "BO"=>"Bolivia",
  "KE"=>"Kenya",
  "NA"=>"Namibia",
  "LY"=>"Libyan Arab Jamahiriya",
  "BR"=>"Brazil",
  "KG"=>"Kyrgyzstan",
  "NC"=>"New Caledonia",
  "RS"=>"Serbia",
  "BS"=>"Bahamas",
  "HK"=>"Hong Kong",
  "KH"=>"Cambodia",
  "BT"=>"Bhutan",
  "KI"=>"Kiribati",
  "NE"=>"Niger",
  "QA"=>"Qatar",
  "RU"=>"Russian Federation",
  "HM"=>"Heard Island and McDonald Islands",
  "NF"=>"Norfolk Island",
  "US"=>"United States",
  "BV"=>"Bouvet Island",
  "ER"=>"Eritrea",
  "HN"=>"Honduras",
  "NG"=>"Nigeria",
  "RW"=>"Rwanda",
  "BW"=>"Botswana",
  "ES"=>"Spain",
  "ET"=>"Ethiopia",
  "NI"=>"Nicaragua",
  "AD"=>"Andorra",
  "BY"=>"Belarus",
  "KM"=>"Comoros",
  "AE"=>"United Arab Emirates",
  "BZ"=>"Belize",
  "HR"=>"Croatia",
  "KN"=>"Saint Kitts and Nevis",
  "TC"=>"Turks and Caicos Islands",
  "AF"=>"Afghanistan",
  "NL"=>"Netherlands",
  "TD"=>"Chad",
  "AG"=>"Antigua and Barbuda",
  "HT"=>"Haiti",
  "KP"=>"Korea, Democratic People's Republic of",
  "UY"=>"Uruguay",
  "GA"=>"Gabon",
  "HU"=>"Hungary",
  "TF"=>"French Southern Territories",
  "UZ"=>"Uzbekistan",
  "AI"=>"Anguilla",
  "DE"=>"Germany",
  "GB"=>"United Kingdom",
  "KR"=>"Korea, Republic of",
  "TG"=>"Togo",
  "NO"=>"Norway",
  "TH"=>"Thailand",
  "GD"=>"Grenada",
  "NP"=>"Nepal",
  "ZA"=>"South Africa",
  "AL"=>"Albania",
  "GE"=>"Georgia",
  "TJ"=>"Tajikistan",
  "WF"=>"Wallis and Futuna",
  "AM"=>"Armenia",
  "GF"=>"French Guiana",
  "NR"=>"Nauru",
  "TK"=>"Tokelau",
  "AN"=>"Netherlands Antilles",
  "DJ"=>"Djibouti",
  "KW"=>"Kuwait",
  "TL"=>"Timor-Leste",
  "AO"=>"Angola",
  "DK"=>"Denmark",
  "GG"=>"Guernsey",
  "TM"=>"Turkmenistan",
  "GH"=>"Ghana",
  "JE"=>"Jersey",
  "MA"=>"Morocco",
  "KY"=>"Cayman Islands",
  "NU"=>"Niue",
  "TN"=>"Tunisia",
  "DM"=>"Dominica",
  "GI"=>"Gibraltar",
  "KZ"=>"Kazakhstan",
  "TO"=>"Tonga",
  "AQ"=>"Antarctica",
  "MC"=>"Monaco",
  "AR"=>"Argentina",
  "MD"=>"Moldova, Republic of",
  "AS"=>"American Samoa",
  "DO"=>"Dominican Republic",
  "ME"=>"Montenegro",
  "PA"=>"Panama",
  "TR"=>"Turkey",
  "AT"=>"Austria",
  "GL"=>"Greenland",
  "MF"=>"Saint Martin (French part)",
  "NZ"=>"New Zealand",
  "AU"=>"Australia",
  "GM"=>"Gambia",
  "MG"=>"Madagascar",
  "GN"=>"Guinea",
  "AW"=>"Aruba",
  "MH"=>"Marshall Islands",
  "TT"=>"Trinidad and Tobago",
  "ZM"=>"Zambia",
  "GP"=>"Guadeloupe",
  "PE"=>"Peru",
  "SA"=>"Saudi Arabia",
  "AX"=>"Aland Islands",
  "GQ"=>"Equatorial Guinea",
  "CA"=>"Canada",
  "SB"=>"Solomon Islands",
  "PF"=>"French Polynesia",
  "TV"=>"Tuvalu",
  "WS"=>"Samoa",
  "JM"=>"Jamaica",
  "MK"=>"Macedonia, the former Yugoslav Republic of",
  "GR"=>"Greece",
  "SC"=>"Seychelles",
  "TW"=>"Taiwan, Province of China",
  "AZ"=>"Azerbaijan",
  "PG"=>"Papua New Guinea",
  "PH"=>"Philippines",
  "GS"=>"South Georgia and the South Sandwich Islands",
  "SD"=>"Sudan",
  "JO"=>"Jordan",
  "ML"=>"Mali"
}

SYMBOLS = {
    "BD"=> "BDT",
    "BE"=> "EUR",
    "BF"=> "XOF",
    "BG"=> "BGN",
    "BA"=> "BAM",
    "BB"=> "BBD",
    "WF"=> "XPF",
    "BL"=> "EUR",
    "BM"=> "BMD",
    "BN"=> "BND",
    "BO"=> "BOB",
    "BH"=> "BHD",
    "BI"=> "BIF",
    "BJ"=> "XOF",
    "BT"=> "BTN",
    "JM"=> "JMD",
    "BV"=> "NOK",
    "BW"=> "BWP",
    "WS"=> "WST",
    "BQ"=> "USD",
    "BR"=> "BRL",
    "BS"=> "BSD",
    "JE"=> "GBP",
    "BY"=> "BYR",
    "BZ"=> "BZD",
    "RU"=> "RUB",
    "RW"=> "RWF",
    "RS"=> "RSD",
    "TL"=> "USD",
    "RE"=> "EUR",
    "TM"=> "TMT",
    "TJ"=> "TJS",
    "RO"=> "RON",
    "TK"=> "NZD",
    "GW"=> "XOF",
    "GU"=> "USD",
    "GT"=> "GTQ",
    "GS"=> "GBP",
    "GR"=> "EUR",
    "GQ"=> "XAF",
    "GP"=> "EUR",
    "JP"=> "JPY",
    "GY"=> "GYD",
    "GG"=> "GBP",
    "GF"=> "EUR",
    "GE"=> "GEL",
    "GD"=> "XCD",
    "GB"=> "GBP",
    "GA"=> "XAF",
    "SV"=> "USD",
    "GN"=> "GNF",
    "GM"=> "GMD",
    "GL"=> "DKK",
    "GI"=> "GIP",
    "GH"=> "GHS",
    "OM"=> "OMR",
    "TN"=> "TND",
    "JO"=> "JOD",
    "HR"=> "HRK",
    "HT"=> "HTG",
    "HU"=> "HUF",
    "HK"=> "HKD",
    "HN"=> "HNL",
    "HM"=> "AUD",
    "VE"=> "VEF",
    "PR"=> "USD",
    "PS"=> "ILS",
    "PW"=> "USD",
    "PT"=> "EUR",
    "SJ"=> "NOK",
    "PY"=> "PYG",
    "IQ"=> "IQD",
    "PA"=> "PAB",
    "PF"=> "XPF",
    "PG"=> "PGK",
    "PE"=> "PEN",
    "PK"=> "PKR",
    "PH"=> "PHP",
    "PN"=> "NZD",
    "PL"=> "PLN",
    "PM"=> "EUR",
    "ZM"=> "ZMK",
    "EH"=> "MAD",
    "EE"=> "EUR",
    "EG"=> "EGP",
    "ZA"=> "ZAR",
    "EC"=> "USD",
    "IT"=> "EUR",
    "VN"=> "VND",
    "SB"=> "SBD",
    "ET"=> "ETB",
    "SO"=> "SOS",
    "ZW"=> "ZWL",
    "SA"=> "SAR",
    "ES"=> "EUR",
    "ER"=> "ERN",
    "ME"=> "EUR",
    "MD"=> "MDL",
    "MG"=> "MGA",
    "MF"=> "EUR",
    "MA"=> "MAD",
    "MC"=> "EUR",
    "UZ"=> "UZS",
    "MM"=> "MMK",
    "ML"=> "XOF",
    "MO"=> "MOP",
    "MN"=> "MNT",
    "MH"=> "USD",
    "MK"=> "MKD",
    "MU"=> "MUR",
    "MT"=> "EUR",
    "MW"=> "MWK",
    "MV"=> "MVR",
    "MQ"=> "EUR",
    "MP"=> "USD",
    "MS"=> "XCD",
    "MR"=> "MRO",
    "IM"=> "GBP",
    "UG"=> "UGX",
    "TZ"=> "TZS",
    "MY"=> "MYR",
    "MX"=> "MXN",
    "IL"=> "ILS",
    "FR"=> "EUR",
    "IO"=> "USD",
    "SH"=> "SHP",
    "FI"=> "EUR",
    "FJ"=> "FJD",
    "FK"=> "FKP",
    "FM"=> "USD",
    "FO"=> "DKK",
    "NI"=> "NIO",
    "NL"=> "EUR",
    "NO"=> "NOK",
    "NA"=> "NAD",
    "VU"=> "VUV",
    "NC"=> "XPF",
    "NE"=> "XOF",
    "NF"=> "AUD",
    "NG"=> "NGN",
    "NZ"=> "NZD",
    "NP"=> "NPR",
    "NR"=> "AUD",
    "NU"=> "NZD",
    "CK"=> "NZD",
    "XK"=> "EUR",
    "CI"=> "XOF",
    "CH"=> "CHF",
    "CO"=> "COP",
    "CN"=> "CNY",
    "CM"=> "XAF",
    "CL"=> "CLP",
    "CC"=> "AUD",
    "CA"=> "CAD",
    "CG"=> "XAF",
    "CF"=> "XAF",
    "CD"=> "CDF",
    "CZ"=> "CZK",
    "CY"=> "EUR",
    "CX"=> "AUD",
    "CR"=> "CRC",
    "CW"=> "ANG",
    "CV"=> "CVE",
    "CU"=> "CUP",
    "SZ"=> "SZL",
    "SY"=> "SYP",
    "SX"=> "ANG",
    "KG"=> "KGS",
    "KE"=> "KES",
    "SS"=> "SSP",
    "SR"=> "SRD",
    "KI"=> "AUD",
    "KH"=> "KHR",
    "KN"=> "XCD",
    "KM"=> "KMF",
    "ST"=> "STD",
    "SK"=> "EUR",
    "KR"=> "KRW",
    "SI"=> "EUR",
    "KP"=> "KPW",
    "KW"=> "KWD",
    "SN"=> "XOF",
    "SM"=> "EUR",
    "SL"=> "SLL",
    "SC"=> "SCR",
    "KZ"=> "KZT",
    "KY"=> "KYD",
    "SG"=> "SGD",
    "SE"=> "SEK",
    "SD"=> "SDG",
    "DO"=> "DOP",
    "DM"=> "XCD",
    "DJ"=> "DJF",
    "DK"=> "DKK",
    "VG"=> "USD",
    "DE"=> "EUR",
    "YE"=> "YER",
    "DZ"=> "DZD",
    "US"=> "USD",
    "UY"=> "UYU",
    "YT"=> "EUR",
    "UM"=> "USD",
    "LB"=> "LBP",
    "LC"=> "XCD",
    "LA"=> "LAK",
    "TV"=> "AUD",
    "TW"=> "TWD",
    "TT"=> "TTD",
    "TR"=> "TRY",
    "LK"=> "LKR",
    "LI"=> "CHF",
    "LV"=> "EUR",
    "TO"=> "TOP",
    "LT"=> "LTL",
    "LU"=> "EUR",
    "LR"=> "LRD",
    "LS"=> "LSL",
    "TH"=> "THB",
    "TF"=> "EUR",
    "TG"=> "XOF",
    "TD"=> "XAF",
    "TC"=> "USD",
    "LY"=> "LYD",
    "VA"=> "EUR",
    "VC"=> "XCD",
    "AE"=> "AED",
    "AD"=> "EUR",
    "AG"=> "XCD",
    "AF"=> "AFN",
    "AI"=> "XCD",
    "VI"=> "USD",
    "IS"=> "ISK",
    "IR"=> "IRR",
    "AM"=> "AMD",
    "AL"=> "ALL",
    "AO"=> "AOA",
    "AQ"=> "",
    "AS"=> "USD",
    "AR"=> "ARS",
    "AU"=> "AUD",
    "AT"=> "EUR",
    "AW"=> "AWG",
    "IN"=> "INR",
    "AX"=> "EUR",
    "AZ"=> "AZN",
    "IE"=> "EUR",
    "ID"=> "IDR",
    "UA"=> "UAH",
    "QA"=> "QAR",
    "MZ"=> "MZN"
}

result = []
country_code.each do |accronym, value|
  result << [name: "#{value}", acronym:"#{accronym}"]
end
result.each do |item|
  State.create! item
  state = State.find_by(acronym: item.first[:acronym])
  state.currency = SYMBOLS[state.acronym]
  state.save!
end

puts '---------------------------------------------'
puts 'Done!'

puts 'Creating OauthProvider entries...'

OauthProvider.delete_all

categories = %w{twitter google_oauth2 linkedin}
categories.each do |name|
  OauthProvider.create name: name, path: name, secret: 'SOMETHING', key: 'SOMETHING'
end

OauthProvider.create name: 'facebook', path: ENV['FACEBOOK_URL'], secret: ENV['FACEBOOK_SECRET'], key: ENV['FACEBOOK_APP_ID']
puts '---------------------------------------------'
puts 'Done!'


puts 'Creating Category entries...'

  categories = %w{Transit Bicycling Technology Entertainment Sports Recreation Schools Streetscapes Environment Restoration Event Mobility}
  categories.each do |c|
    Category.create name_pt: c, name_en: c, name_fr: c
  end

puts '---------------------------------------------'
puts 'Done!'

puts 'Creating Admin user...'
  admin_email = "admin@example.com".dup
  admin_password = "qwerty123".dup
  u = User.new name: 'Admin',
               email: admin_email,
               password: admin_password
  u.admin = true
  u.skip_confirmation!
  u.confirm!
  u.save

puts '---------------------------------------------'
puts 'Done!'

puts 'Creating system users...'

  # User to receive company contact notifications
  u = User.new email: "user@example.com".dup, password: SecureRandom.hex(4)
  u.skip_confirmation!
  u.confirm!
  u.save

  # User to receive new projects on draft notifications
  u = User.new email: "project@example.com".dup, password: SecureRandom.hex(4)
  u.skip_confirmation!
  u.confirm!
  u.save

puts '---------------------------------------------'
puts 'Done!'
